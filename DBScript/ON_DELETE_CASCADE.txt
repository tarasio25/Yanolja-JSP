참조키가 있는 데이터 삭제시 방법!!!!!!
- 제약조건을 먼저 풀어주고(삭제)
- on delete cascade를 명시하는 제약조건 다시 생성!!

--장바구니

ALTER TABLE BASKET DROP CONSTRAINT FK_GUEST_TO_BASKET;

ALTER TABLE BASKET ADD CONSTRAINT FK_GUEST_TO_BASKET FOREIGN KEY (guestNum) REFERENCES guest (guestNum) ON DELETE CASCADE;

SELECT * FROM ALL_CONSTRAINTS
WHERE TABLE_NAME = 'BASKET';

--결제

ALTER TABLE BASKET DROP CONSTRAINT FK_GUEST_TO_BUY;

ALTER TABLE BASKET ADD CONSTRAINT FK_GUEST_TO_BUY FOREIGN KEY (guestNum) REFERENCES guest (guestNum) ON DELETE CASCADE;

SELECT * FROM ALL_CONSTRAINTS
WHERE TABLE_NAME = 'BUY';

--리뷰

ALTER TABLE BASKET DROP CONSTRAINT FK_GUEST_TO_REVIEW;

ALTER TABLE BASKET ADD CONSTRAINT FK_GUEST_TO_REVIEW FOREIGN KEY (guestNum) REFERENCES guest (guestNum) ON DELETE CASCADE;

SELECT * FROM ALL_CONSTRAINTS
WHERE TABLE_NAME = 'REVIEW';




